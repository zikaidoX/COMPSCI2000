// Contains a function ArrMax.arrMax that finds and returns the largest element in the array a of length b.
// a & b are both supplied as arguments

function ArrMax.arrMax 2
    push local 0
    push argument 0
    add
    pop pointer 1

    push that 0
    pop local 1

    push constant 1
    pop local 2

    label LOOP_START
    push local 2
    push argument 1
    lt
    not
    if-goto LOOP_END

    push local 2
    push local 0
    add
    pop pointer 1

    push that 0
    push local 1
    gt
    if-goto UPDATE_MAX

    goto CONTINUE_LOOP

    label UPDATE_MAX
    push local 2
    push local 0
    add
    pop pointer 1

    push that 0
    pop local 1

    label CONTINUE_LOOP
    push local 2
    push constant 1
    add
    pop local 2
    goto LOOP_START

    label LOOP_END
    push local 1
    return

label END
goto END
